\hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries}{}\section{real\+\_\+time\+\_\+tools\+:\+:Threadsafe\+Timeseries$<$ Type $>$ Class Template Reference}
\label{classreal__time__tools_1_1ThreadsafeTimeseries}\index{real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries$<$ Type $>$@{real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries$<$ Type $>$}}


implements a timeseries $ X_{{oldest}:{newest}} $ which can safely be accessed from multiple threads.  




{\ttfamily \#include $<$threadsafe\+\_\+timeseries.\+hpp$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}} 
typedef long int \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index}
\begin{DoxyCompactList}\small\item\em Alias for the index type. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a41e36f99889a580ce56491e573fa77b0}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a41e36f99889a580ce56491e573fa77b0}} 
typedef long double \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a41e36f99889a580ce56491e573fa77b0}{Timestamp}
\begin{DoxyCompactList}\small\item\em alias for the Timestamp. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a06769598feb483bda198edb9c88c8de4}{Threadsafe\+Timeseries} (size\+\_\+t \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a14a749296f8728f9fa344e0bc63d6926}{max\+\_\+length}, \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} start\+\_\+timeindex=0)
\begin{DoxyCompactList}\small\item\em initializes to an empty timeseries with the given $ maxlength $. when the first element will be inserted, it will have index start\+\_\+timeindex. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a9d5495ecc8739d8f65056113ba915a8e}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a9d5495ecc8739d8f65056113ba915a8e}} 
virtual \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9d5495ecc8739d8f65056113ba915a8e}{newest\+\_\+timeindex} () const
\begin{DoxyCompactList}\small\item\em returns $ newest $. waits if the timeseries is empty. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_adc27cfb168cd917301413a9342431f2a}\label{classreal__time__tools_1_1ThreadsafeTimeseries_adc27cfb168cd917301413a9342431f2a}} 
virtual \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_adc27cfb168cd917301413a9342431f2a}{count\+\_\+appended\+\_\+elements} () const
\begin{DoxyCompactList}\small\item\em returns the number of element contained in the queue. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a028364ef9654e90a3177dccabaafa098}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a028364ef9654e90a3177dccabaafa098}} 
virtual \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a028364ef9654e90a3177dccabaafa098}{oldest\+\_\+timeindex} () const
\begin{DoxyCompactList}\small\item\em returns $ oldest $. waits if the timeseries is empty. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a6c55830c23d7b4c1080d560b4ad57def}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a6c55830c23d7b4c1080d560b4ad57def}} 
virtual Type \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a6c55830c23d7b4c1080d560b4ad57def}{newest\+\_\+element} () const
\begin{DoxyCompactList}\small\item\em returns $ X_{newest} $. waits if the timeseries is empty. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_af4219a1cbd483b9a0c8aac3537db090d}\label{classreal__time__tools_1_1ThreadsafeTimeseries_af4219a1cbd483b9a0c8aac3537db090d}} 
virtual Type \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_af4219a1cbd483b9a0c8aac3537db090d}{operator\mbox{[}$\,$\mbox{]}} (const \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \&timeindex) const
\begin{DoxyCompactList}\small\item\em returns $ X_{timeindex} $. waits if the timeseries is empty or if $timeindex > newest $. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a621ca3e515dabe112f27fddefe4b3dda}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a621ca3e515dabe112f27fddefe4b3dda}} 
virtual \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a41e36f99889a580ce56491e573fa77b0}{Timestamp} \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a621ca3e515dabe112f27fddefe4b3dda}{timestamp\+\_\+ms} (const \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \&timeindex) const
\begin{DoxyCompactList}\small\item\em returns the time in miliseconds when $ X_{timeindex} $ was appended. Waits if the timeseries is empty or if $timeindex > newest $. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_ad0d658592471f37c5dfca22765d1b6e7}\label{classreal__time__tools_1_1ThreadsafeTimeseries_ad0d658592471f37c5dfca22765d1b6e7}} 
virtual \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a41e36f99889a580ce56491e573fa77b0}{Timestamp} \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_ad0d658592471f37c5dfca22765d1b6e7}{timestamp\+\_\+s} (const \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \&timeindex) const
\begin{DoxyCompactList}\small\item\em returns the time in seconds when $ X_{timeindex} $ was appended. Waits if the timeseries is empty or if $timeindex > newest $. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_ae7e9f19aae9a415788adca06e20d84b3}\label{classreal__time__tools_1_1ThreadsafeTimeseries_ae7e9f19aae9a415788adca06e20d84b3}} 
virtual bool \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_ae7e9f19aae9a415788adca06e20d84b3}{wait\+\_\+for\+\_\+timeindex} (const \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \&timeindex, const double \&max\+\_\+duration\+\_\+s=std\+::numeric\+\_\+limits$<$ double $>$\+::quiet\+\_\+\+NaN()) const
\begin{DoxyCompactList}\small\item\em Wait until the defined time index is reached. If the input time is below the oldest time index that have been registered read an exception is return. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a5bc74b365f6fab7b9131caf5bb2c15dd}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a5bc74b365f6fab7b9131caf5bb2c15dd}} 
virtual size\+\_\+t \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a5bc74b365f6fab7b9131caf5bb2c15dd}{length} () const
\begin{DoxyCompactList}\small\item\em returns the length of the timeseries, i.\+e. $0$ if it is empty, otherwise $newest - oldest +1 $. \end{DoxyCompactList}\item 
virtual size\+\_\+t \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a14a749296f8728f9fa344e0bc63d6926}{max\+\_\+length} () const
\begin{DoxyCompactList}\small\item\em returns the maximum length of the time serie. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a77705f3c87496efac4ae066dc2601ba0}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a77705f3c87496efac4ae066dc2601ba0}} 
virtual bool \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a77705f3c87496efac4ae066dc2601ba0}{has\+\_\+changed\+\_\+since\+\_\+tag} () const
\begin{DoxyCompactList}\small\item\em returns boolean indicating whether new elements have been appended since the last time the \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a07a775400d1b9446bded449ad953a8d9}{tag()} function was called. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a07a775400d1b9446bded449ad953a8d9}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a07a775400d1b9446bded449ad953a8d9}} 
virtual void \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a07a775400d1b9446bded449ad953a8d9}{tag} (const \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \&timeindex)
\begin{DoxyCompactList}\small\item\em tags the current timeseries, can later be used to check whether new elements have been added \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_ae0a782bf3b1a483647d5d342a994335c}\label{classreal__time__tools_1_1ThreadsafeTimeseries_ae0a782bf3b1a483647d5d342a994335c}} 
virtual void \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_ae0a782bf3b1a483647d5d342a994335c}{append} (const Type \&element)
\begin{DoxyCompactList}\small\item\em appends a new element to the timeseries, e.\+g. we go from $ X_{1:10} $ to $ X_{1:11} $ (where $ X_{11}=$ element). if the timeseries length is already equal to its max\+\_\+length, then the oldest element is discarded, e.\+g. for a max\+\_\+length = 10 we would go from $ X_{1:10} $ to $ X_{2:11} $. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_ac23cd95c9d5f6344e20db8d318f23005}\label{classreal__time__tools_1_1ThreadsafeTimeseries_ac23cd95c9d5f6344e20db8d318f23005}} 
std\+::shared\+\_\+ptr$<$ std\+::vector$<$ Type $>$ $>$ \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_ac23cd95c9d5f6344e20db8d318f23005}{history\+\_\+elements\+\_\+}
\begin{DoxyCompactList}\small\item\em History of the values. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a7f90089325fee66a71a413e68f8ab02c}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a7f90089325fee66a71a413e68f8ab02c}} 
std\+::shared\+\_\+ptr$<$ std\+::vector$<$ \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a41e36f99889a580ce56491e573fa77b0}{Timestamp} $>$ $>$ \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a7f90089325fee66a71a413e68f8ab02c}{history\+\_\+timestamps\+\_\+}
\begin{DoxyCompactList}\small\item\em History of the headers. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_aa05382a6a6288769cade6f02a25d5d11}\label{classreal__time__tools_1_1ThreadsafeTimeseries_aa05382a6a6288769cade6f02a25d5d11}} 
\hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} {\bfseries start\+\_\+timeindex\+\_\+}
\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a07285b5905c1b4c73830a4f69dbd306b}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a07285b5905c1b4c73830a4f69dbd306b}} 
\hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a07285b5905c1b4c73830a4f69dbd306b}{oldest\+\_\+timeindex\+\_\+}
\begin{DoxyCompactList}\small\item\em Oldest time index. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a7fd574dac314ee5d72ffdb5d578c13ac}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a7fd574dac314ee5d72ffdb5d578c13ac}} 
\hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a7fd574dac314ee5d72ffdb5d578c13ac}{newest\+\_\+timeindex\+\_\+}
\begin{DoxyCompactList}\small\item\em Newest time index. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a8ccddbf7eda7ac6ac257eaef39d9cbc4}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a8ccddbf7eda7ac6ac257eaef39d9cbc4}} 
\hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index} \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a8ccddbf7eda7ac6ac257eaef39d9cbc4}{tagged\+\_\+timeindex\+\_\+}
\begin{DoxyCompactList}\small\item\em Tagged time index. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a46423f0837bcde91a274d49e9d8a32ee}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a46423f0837bcde91a274d49e9d8a32ee}} 
std\+::shared\+\_\+ptr$<$ std\+::condition\+\_\+variable $>$ \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a46423f0837bcde91a274d49e9d8a32ee}{condition\+\_\+}
\begin{DoxyCompactList}\small\item\em A condition variable that protect the data during copy and reading. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a755bd4c399df29f2f9b9d2ed748dfae5}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a755bd4c399df29f2f9b9d2ed748dfae5}} 
std\+::shared\+\_\+ptr$<$ std\+::mutex $>$ \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a755bd4c399df29f2f9b9d2ed748dfae5}{mutex\+\_\+}
\begin{DoxyCompactList}\small\item\em A mutex variable that protect the data during copy and reading. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename Type = int$>$\newline
class real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries$<$ Type $>$}

implements a timeseries $ X_{{oldest}:{newest}} $ which can safely be accessed from multiple threads. 

this object has the following properties\+:
\begin{DoxyItemize}
\item an oldest timeindex $ oldest$,
\item a newest timeindex $ newest $,
\item a value $ X_i $ for each $ i \in \{oldest, oldest + 1 , ..., newest\} $,
\item a length $length$
\item and a maximum length $maxlength$ 
\end{DoxyItemize}

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a06769598feb483bda198edb9c88c8de4}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a06769598feb483bda198edb9c88c8de4}} 
\index{real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries@{real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries}!Threadsafe\+Timeseries@{Threadsafe\+Timeseries}}
\index{Threadsafe\+Timeseries@{Threadsafe\+Timeseries}!real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries@{real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries}}
\subsubsection{\texorpdfstring{Threadsafe\+Timeseries()}{ThreadsafeTimeseries()}}
{\footnotesize\ttfamily template$<$typename Type $>$ \\
\hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries}{real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries}$<$ Type $>$\+::\hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries}{Threadsafe\+Timeseries} (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{max\+\_\+length,  }\item[{\hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries_a9364696c534468d7ad927883b16ca981}{Index}}]{start\+\_\+timeindex = {\ttfamily 0} }\end{DoxyParamCaption})}



initializes to an empty timeseries with the given $ maxlength $. when the first element will be inserted, it will have index start\+\_\+timeindex. 

this means that this timeseries contains no elements yet, hence $ newest $ and $ oldest $ are not defined after construction, there exist no elements and $length$ is zero 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classreal__time__tools_1_1ThreadsafeTimeseries_a14a749296f8728f9fa344e0bc63d6926}\label{classreal__time__tools_1_1ThreadsafeTimeseries_a14a749296f8728f9fa344e0bc63d6926}} 
\index{real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries@{real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries}!max\+\_\+length@{max\+\_\+length}}
\index{max\+\_\+length@{max\+\_\+length}!real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries@{real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries}}
\subsubsection{\texorpdfstring{max\+\_\+length()}{max\_length()}}
{\footnotesize\ttfamily template$<$typename Type $>$ \\
size\+\_\+t \hyperlink{classreal__time__tools_1_1ThreadsafeTimeseries}{real\+\_\+time\+\_\+tools\+::\+Threadsafe\+Timeseries}$<$ Type $>$\+::max\+\_\+length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



returns the maximum length of the time serie. 

\begin{DoxyReturn}{Returns}
size\+\_\+t 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/real\+\_\+time\+\_\+tools/threadsafe/\hyperlink{threadsafe__timeseries_8hpp}{threadsafe\+\_\+timeseries.\+hpp}\item 
include/real\+\_\+time\+\_\+tools/threadsafe/\hyperlink{threadsafe__timeseries_8hxx}{threadsafe\+\_\+timeseries.\+hxx}\end{DoxyCompactItemize}
